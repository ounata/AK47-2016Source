var mcs=mcs||{};!function(){"use strict";return mcs.g=mcs.g||{},mcs.util=mcs.util||{},mcs.app=mcs.app||{name:"app",version:"1.0"},mcs.app.dict=mcs.app.dict||{},mcs.app.config=mcs.app.config||{},mcs.config=mcs.config||{},mcs}(),function(){"use strict";var a={css:"css",javascript:"js"},b=function(b,c,d){var e=d?"":mcs.app.config.componentBaseUrl.replace("http://","http:\\"),f="";switch(b){case a.css:f+="."+a.css;break;case a.javascript:f+="."+a.javascript}return f?(e+=c.substring(c.length-f.length)!=f?c+f:c,e=e.replace(new RegExp("//","gm"),"/").replace("http:\\","http://")):void 0},c=function(b,c){if(c.length){var d={files:[],localFiles:[],container:""};return 1==c.length?c[0]instanceof Object?d=c:c[0]instanceof Array?d.files=c[0]:arguments[0]instanceof String&&(d.files=[c[0]]):(c[0]instanceof Array?d.files=c[0]:c[1]instanceof String&&(d.files=[c[0]]),c[1]instanceof Array?d.localFiles=c[1]:c[1]instanceof String&&(d.localFiles=[c[1]]),d.container=document.getElementById(arguments[2])||""),b==a.css?d[0]||{cssFiles:d.files,localCssFiles:d.localFiles,container:d.container}:d[0]||{jsFiles:d.files,localJsFiles:d.localFiles,container:d.container}}};return mcs.g.loadCss=function(){for(var d=c(a.css,arguments),e=[{isLocal:!1,data:d.cssFiles||[]},{isLocal:!0,data:d.localCssFiles||[]}],f=0,g=e.length;g>f;f++)for(var h=e[f],i=0,j=h.data.length;j>i;i++){var k=h.data[i],l=k.length;if(l){var m=b(a.css,k,h.isLocal),n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("href",m);var o=d.container||document.getElementsByTagName("head")[0];o.appendChild(n)}}},mcs.g.loadJs=function(){for(var d=c(a.javascript,arguments),e=[{isLocal:!1,data:d.jsFiles||[]},{isLocal:!0,data:d.localJsFiles||[]}],f=0,g=e.length;g>f;f++)for(var h=e[f],i=0,j=h.data.length;j>i;i++){var k=h.data[i],l=k.length;if(l){var m=b(a.javascript,k,h.isLocal),n=document.createElement("script");n.setAttribute("src",m);var o=d.container||document.getElementsByTagName("head")[0];o.appendChild(n)}}},mcs.g.loadRequireJs=function(c,d,e){if(c&&d){var f=a.javascript,g=b(f,c,e),h="."+f;d.substring(d.length-h.length)!=h&&(d+=h);var i=document.createElement("script");i.setAttribute("src",g),i.setAttribute("data-main",d),document.getElementsByTagName("head")[0].appendChild(i)}},mcs.g}(),function(){"use strict";return mcs.util.newGuid=function(){for(var a="",b=1;32>=b;b++){var c=Math.floor(16*Math.random()).toString(16);a+=c,8!=b&&12!=b&&16!=b&&20!=b||(a+="-")}return a},mcs.util.merge=function(a){for(var b in a)mcs.app.dict[b]=a[b]},mcs.util.mapping=function(a,b,c){if(a&&b.key&&b.value){if(void 0==c){var d=[];for(var e in a)d.push({key:a[e][b.key],value:a[e][b.value]});return d}c=0==c.indexOf("c_codE_ABBR_")?c:"c_codE_ABBR_"+c;var d={};d[c]=[];for(var e in a)d[c].push({key:a[e][b.key],value:a[e][b.value]});return d}},mcs.util.clone=function(a){if("object"!=typeof a)return a;if(null==a)return a;var b=new Object;for(var c in a)b[c]=mcs.util.clone(a[c]);return b},mcs.util.indexOf=function(a,b,c){if(!a||!a.length)return-1;for(var d in a){if(!a[d][b])return-1;if(a[d][b]==c)return d}return-1},mcs.util.selectAll=function(a){var b=[];return angular.forEach(a,function(a){b.push(a.key)}),b},mcs.util.unSelectAll=function(){return[]},mcs.util.inverseSelect=function(a,b){var c=b;return b=[],angular.forEach(a,function(a){-1==c.indexOf(a.key)&&b.push(a.key)}),b},mcs.util.buildCascadeDataSource=function(a,b){for(var c in a){var d=a[c];if(0==d.parentKey){var e=b[d.key];e?e.value=d.value:b[d.key]={value:d.value,children:[]}}else{var e=b[d.parentKey];e?b[d.parentKey].children.push(d):b[d.parentKey]={value:"",children:[d]}}}},mcs.util.setSelectedItems=function(a,b,c){var d=a.indexOf(b.key);c.target.checked?-1===d&&a.push(b.key):-1!==d&&a.splice(d,1)},mcs.util.setDefaultSelected=function(a,b){if(a&&a.length)for(var c=0,d=a.length;d>c;c++){var e=a[c];e.checked=e.key==b}},mcs.util.getDictionaryItemValue=function(a,b){if(0==b)return"";if(!a||!a.length||!b)return b;for(var c=0,d=a.length;d>c;c++){var e=a[c];if(e.key==b)return e.value}return b},mcs.util.loadDependencies=function(a){return{resolver:["$q","$rootScope",function(b,c){var d=b.defer();return require(a,function(){c.$apply(function(){d.resolve()})}),d.promise}]}},mcs.util.loadRoute=function(a,b){return a.state(b.name,{url:b.url,templateUrl:b.templateUrl,controller:b.controller,controllerAs:b.controllerAs||"vm",resolve:mcs.util.loadDependencies(b.dependencies)}),mcs.util},mcs.util.loadDefaultRoute=function(a,b,c){if(!(c&&c.name&&c.url&&c.templateUrl))return void console.log("no default route settings or default route has no correct configuration, including name, url and templateUrl.");var d=c.layout?c.layout.url+c.url:c.url;if(b.otherwise(d),c.layout){if(!c.layout.name||!c.layout.url||!c.layout.templateUrl)return void console.log("default route layout has no correct configuration, including name, url and templateUrl.");a.state(c.layout.name,{"abstract":!0,url:c.layout.url,templateUrl:c.layout.templateUrl})}a.state(c.name,{url:c.url,templateUrl:c.templateUrl,controller:c.controller,controllerAs:c.controllerAs||"vm",resolve:mcs.util.loadDependencies(c.dependencies)})},mcs.util.configProvider=function(a,b,c,d,e){a&&angular.isDefined(a)&&(a.registerController=b.register,a.registerDirective=c.directive,a.registerFilter=d.register,a.registerFactory=e.factory,a.registerService=e.service,a.registerConstant=e.constant,a.registerValue=e.value)},mcs.util.configInterceptor=function(a,b,c){if(c)for(var d in c)a.interceptors.push(c[d]);b.resourceUrlWhitelist(["self",mcs.app.config.componentBaseUrl+"**"])},mcs.util}(),mcs.browser=function(){var a={},b=navigator.userAgent;console.info("useragent: ",b);var c=b.indexOf("Opera")>-1;if(c){if("Opera"==navigator.appName)a.version=parseFloat(navigator.appVersion);else{var d=new RegExp("Opera (\\d+.\\d+)");d.test(b),a.version=parseFloat(RegExp.$1)}a.opera=!0}var e=b.indexOf("Chrome")>-1;if(e){var f=new RegExp("Chrome/(\\d+\\.\\d+(?:\\.\\d+\\.\\d+))?");f.test(b),a.version=parseFloat(RegExp.$1),a.chrome=!0}var g=(b.indexOf("KHTML")>-1||b.indexOf("Konqueror")>-1||b.indexOf("AppleWebKit")>-1)&&!e;if(g){var h=b.indexOf("AppleWebKit")>-1,i=b.indexOf("Konqueror")>-1;if(h){var j=new RegExp("Version/(\\d+(?:\\.\\d*)?)");j.test(b);parseFloat(RegExp.$1);a.version=parseFloat(RegExp.$1),a.safari=!0}else if(i){var k=new RegExp("Konqueror/(\\d+(?:\\.\\d+(?\\.\\d)?)?)");k.test(b),a.version=parseFloat(RegExp.$1),a.konqueror=!0}}var l=b.indexOf("compatible")>-1&&b.indexOf("MSIE")>-1&&!c;if(l){var m=new RegExp("MSIE (\\d+\\.\\d+);");m.test(b),a.version=parseFloat(RegExp.$1),a.msie=!0}var n=b.indexOf("Gecko")>-1&&!e&&!g;if(n){var o=new RegExp("rv:(\\d+\\.\\d+(?:\\.\\d+)?)");o.test(b),a.version=parseFloat(RegExp.$1),a.mozilla=!0}return{version:a.version,get:function(){return a}}}();